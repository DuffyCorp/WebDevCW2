<html>
    <body>
     <div class="wrapper">

        {{#user}}
            {{>sidebar}}
        {{/user}}
        <!-- Page Content  -->
        <div id="content" style="width 100%" class="{{admin}}">
            {{>header}}

        <div class="Hero">
            <div class="heroText">
                <h1>{{title}}</h1>
            </div>
        </div>
            <div class = "bodyContent" id="menus">
        <h2>Create a new dish</h2>
        <form method="post" role="form">
            <div class="form-group">
                <label for="menuName">Choose a menu:</label>
                <select type="text" class="form-control" name="menuName" id="menuName">
                {{#entries}}
                    <option value="{{menuName}}">{{menuName}}</option>
                {{/entries}}
                </select>
            </div>
            <div class="form-group">

  <input type="hidden" id="arrayIndex" name="arrayIndex" value=0>
  <div id="msg">Select an option in the dropdown...</div>
  
  <label for="dishCategory">Choose a category:</label>  
  <select type="text" class="form-control" name="dishCategory" id="dishCategory">
        {{#entries}}
            {{#category}}
                <option value="{{catName}}">{{catName}}</option>
            {{/category}}
        {{/entries}}
  </select>
</div>
            <div class="form-group">
                <label for="dishName">New dish Name</label>
                <input type="text" class="form-control" id="dishName" name="dishName" placeholder="dishName" required>
            </div>
            <div class="form-group">
                <label for="dishPrice">New dish price</label>
                <input type="text" class="form-control" id="dishPrice" name="dishPrice" placeholder="Enter a dish price" required>
            </div>
            <div class="form-group">
                <input type="checkbox" id="vegetarian" name="vegetarian" value="true">
                <label for="vehicle1"> Is this dish vegetarian?</label><br>
            </div>
            <div class="form-group">
                <input type="checkbox" id="glutenFree" name="glutenFree" value="true">
                <label for="vehicle1"> Is the new dish gluten free?</label><br>
            </div>
            <div class="form-group">
                <input type="checkbox" id="available" name="available" value="true">
                <label for="vehicle1">Is the new dish available?</label><br>
            </div>
            <div class="form-group">
                <input type="submit" value="Add dish" class="btn btn-primary">
            </div>
        </form>
    </body>
    <footer>
        {{>footer}}
    </footer>
        </div>
       <script src="/js/admin.js"></script>
       <script>
            document.addEventListener("DOMContentLoaded", function() {
 
            let select = document.getElementById('dishCategory');
            select.addEventListener('change', (event) => {
  
            //value of the selected option
            let selectedValue = select.value;
            //index of the selected option
            let selectedOptionIndex = select.selectedIndex;
            //the entire selected option element
            let selectedOption = select.options[select.selectedIndex];
      
            //updates the msg with information about which option was picked
            document.getElementById('msg').innerText =`The index of the option chosen was: ${selectedOptionIndex}`;
      
            //updates the value of the hidden input with such index
            document.getElementById('arrayIndex').value = selectedOptionIndex;      
        });
    });
       </script>
</html>